<ng-container *ngIf="options; else loading">
    <div class="grid grid-cols-12">
        <div class="col-span-full" appFullScreen>
            <div class="grid grid-cols-12 button-right">
                <app-download-button [data]="options?.data" [fileName]="fileName" [reportType]="'map'"></app-download-button>
            </div>
            <div class="grid grid-cols-12">
                <div class="col-span-7">
                    <div class="grid grid-cols-12">
                        <div class="col-span-3">
                            <app-material-button-group [buttons]="levels" (select)="onScatterSelectLevel($event)"></app-material-button-group>
                        </div>
                        <div class="col-span-9">
                            <app-filter-panel [filters]="axisFilters" colSize="col-span-6 4k:col-span-3" [resetOthers]="false" (filtersUpdated)="scatterAxisFiltersUpdated($event)"></app-filter-panel>
                        </div>
                    </div>
                </div>
                <div class="col-span-5">
                    <app-filter-panel [filters]="filters" colSize="col-span-9 4k:col-span-6" [resetOthers]="false" (filtersUpdated)="scatterFiltersUpdated($event)"></app-filter-panel>
                </div>
            </div>
            <app-scatter-chart [options]="options" height="50vh"></app-scatter-chart>
        </div>
    </div>
</ng-container>

<ng-template #loading>
    <p class="p-2">Loading...</p>
</ng-template>
